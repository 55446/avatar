on_actions = {

	on_startup = {
		#effect = {
		#	every_country = {
		#		set_variable = { atla_legitimacy = 3 }
		#	}
		#}
		effect = {
			#### animal population ####
			
			272 = { add_dynamic_modifier = { modifier = komodo_herd } }
			415 = { add_dynamic_modifier = { modifier = komodo_herd } }
			196 = { add_dynamic_modifier = { modifier = komodo_herd } }
			215 = { add_dynamic_modifier = { modifier = komodo_herd } }
			211 = { add_dynamic_modifier = { modifier = komodo_herd } }
			223 = { add_dynamic_modifier = { modifier = komodo_herd } }
			151 = { add_dynamic_modifier = { modifier = komodo_herd } }
			156 = { add_dynamic_modifier = { modifier = komodo_herd } }
			89 = { add_dynamic_modifier = { modifier = komodo_herd } }
			202 = { add_dynamic_modifier = { modifier = komodo_herd } }
			86 = { add_dynamic_modifier = { modifier = komodo_herd } }
			339 = { add_dynamic_modifier = { modifier = komodo_herd } }
			298 = { add_dynamic_modifier = { modifier = komodo_herd } }
			429 = { add_dynamic_modifier = { modifier = komodo_herd } }
			
			414 = { add_dynamic_modifier = { modifier = mongooze_herd } }
			330 = { add_dynamic_modifier = { modifier = mongooze_herd } }
			339 = { add_dynamic_modifier = { modifier = mongooze_herd } }
			414 = { add_dynamic_modifier = { modifier = mongooze_herd } }
			393 = { add_dynamic_modifier = { modifier = mongooze_herd } }
			368 = { add_dynamic_modifier = { modifier = mongooze_herd } }
			308 = { add_dynamic_modifier = { modifier = mongooze_herd } }
			315 = { add_dynamic_modifier = { modifier = mongooze_herd } }

			351 = { add_dynamic_modifier = { modifier = ostrich_herd } }
			318 = { add_dynamic_modifier = { modifier = ostrich_herd } }
			304 = { add_dynamic_modifier = { modifier = ostrich_herd } }
			386 = { add_dynamic_modifier = { modifier = ostrich_herd } }
			378 = { add_dynamic_modifier = { modifier = ostrich_herd } }
			276 = { add_dynamic_modifier = { modifier = ostrich_herd } }
			288 = { add_dynamic_modifier = { modifier = ostrich_herd } }
			243 = { add_dynamic_modifier = { modifier = ostrich_herd } }
			244 = { add_dynamic_modifier = { modifier = ostrich_herd } }
			219 = { add_dynamic_modifier = { modifier = ostrich_herd } }
			245 = { add_dynamic_modifier = { modifier = ostrich_herd } }
			198 = { add_dynamic_modifier = { modifier = ostrich_herd } }
			29 = { add_dynamic_modifier = { modifier = ostrich_herd } }
			183 = { add_dynamic_modifier = { modifier = ostrich_herd } }
			157 = { add_dynamic_modifier = { modifier = ostrich_herd } }
			77 = { add_dynamic_modifier = { modifier = ostrich_herd } }
			32 = { add_dynamic_modifier = { modifier = ostrich_herd } }
			209 = { add_dynamic_modifier = { modifier = ostrich_herd } }
			138 = { add_dynamic_modifier = { modifier = ostrich_herd } }
			197 = { add_dynamic_modifier = { modifier = ostrich_herd } }
			231 = { add_dynamic_modifier = { modifier = ostrich_herd } }
			253 = { add_dynamic_modifier = { modifier = ostrich_herd } }
			217 = { add_dynamic_modifier = { modifier = ostrich_herd } }
			206 = { add_dynamic_modifier = { modifier = ostrich_herd } }
			214 = { add_dynamic_modifier = { modifier = ostrich_herd } }
			227 = { add_dynamic_modifier = { modifier = ostrich_herd } }
			164 = { add_dynamic_modifier = { modifier = ostrich_herd } }
			230 = { add_dynamic_modifier = { modifier = ostrich_herd } }
			191 = { add_dynamic_modifier = { modifier = ostrich_herd } }
			184 = { add_dynamic_modifier = { modifier = ostrich_herd } }
			286 = { add_dynamic_modifier = { modifier = ostrich_herd } }
			
			374 = { add_dynamic_modifier = { modifier = eel_herd } }
			165 = { add_dynamic_modifier = { modifier = eel_herd } }
			130 = { add_dynamic_modifier = { modifier = eel_herd } }
			146 = { add_dynamic_modifier = { modifier = eel_herd } }
			271 = { add_dynamic_modifier = { modifier = eel_herd } }
			78 = { add_dynamic_modifier = { modifier = eel_herd } }
			108 = { add_dynamic_modifier = { modifier = eel_herd } }
			153 = { add_dynamic_modifier = { modifier = eel_herd } }
			68 = { add_dynamic_modifier = { modifier = eel_herd } }
			81 = { add_dynamic_modifier = { modifier = eel_herd } }
			102 = { add_dynamic_modifier = { modifier = eel_herd } }
			87 = { add_dynamic_modifier = { modifier = eel_herd } }
			90 = { add_dynamic_modifier = { modifier = eel_herd } }
			88 = { add_dynamic_modifier = { modifier = eel_herd } }
			101 = { add_dynamic_modifier = { modifier = eel_herd } }
			147 = { add_dynamic_modifier = { modifier = eel_herd } }
			79 = { add_dynamic_modifier = { modifier = eel_herd } }
			115 = { add_dynamic_modifier = { modifier = eel_herd } }
			158 = { add_dynamic_modifier = { modifier = eel_herd } }
			152 = { add_dynamic_modifier = { modifier = eel_herd } }
			128 = { add_dynamic_modifier = { modifier = eel_herd } }
			143 = { add_dynamic_modifier = { modifier = eel_herd } }

			15 = { add_dynamic_modifier = { modifier = polar_herd } }
			20 = { add_dynamic_modifier = { modifier = polar_herd } }
			14 = { add_dynamic_modifier = { modifier = polar_herd } }
			11 = { add_dynamic_modifier = { modifier = polar_herd } }
			13 = { add_dynamic_modifier = { modifier = polar_herd } }
			58 = { add_dynamic_modifier = { modifier = polar_herd } }
			31 = { add_dynamic_modifier = { modifier = polar_herd } }
			28 = { add_dynamic_modifier = { modifier = polar_herd } }
			67 = { add_dynamic_modifier = { modifier = polar_herd } }
			74 = { add_dynamic_modifier = { modifier = polar_herd } }
			60 = { add_dynamic_modifier = { modifier = polar_herd } }
			
			5 = { add_dynamic_modifier = { modifier = buffalo_herd } }
			6 = { add_dynamic_modifier = { modifier = buffalo_herd } }
			4 = { add_dynamic_modifier = { modifier = buffalo_herd } }
			8 = { add_dynamic_modifier = { modifier = buffalo_herd } }
			1 = { add_dynamic_modifier = { modifier = buffalo_herd } }
			27 = { add_dynamic_modifier = { modifier = buffalo_herd } }
			23 = { add_dynamic_modifier = { modifier = buffalo_herd } }
			39 = { add_dynamic_modifier = { modifier = buffalo_herd } }
			48 = { add_dynamic_modifier = { modifier = buffalo_herd } }
			10 = { add_dynamic_modifier = { modifier = buffalo_herd } }
			12 = { add_dynamic_modifier = { modifier = buffalo_herd } }
			109 = { add_dynamic_modifier = { modifier = buffalo_herd } }
			64 = { add_dynamic_modifier = { modifier = buffalo_herd } }

			232 = { add_dynamic_modifier = { modifier = cat_herd } }
			22 = { add_dynamic_modifier = { modifier = cat_herd } }
			82 = { add_dynamic_modifier = { modifier = cat_herd } }
			100 = { add_dynamic_modifier = { modifier = cat_herd } }
			111 = { add_dynamic_modifier = { modifier = cat_herd } }
			118 = { add_dynamic_modifier = { modifier = cat_herd } }
			175 = { add_dynamic_modifier = { modifier = cat_herd } }
			222 = { add_dynamic_modifier = { modifier = cat_herd } }
			200 = { add_dynamic_modifier = { modifier = cat_herd } }
			232 = { add_dynamic_modifier = { modifier = cat_herd } }
			319 = { add_dynamic_modifier = { modifier = cat_herd } }
			242 = { add_dynamic_modifier = { modifier = cat_herd } }
			236 = { add_dynamic_modifier = { modifier = cat_herd } }
			296 = { add_dynamic_modifier = { modifier = cat_herd } }
			203 = { add_dynamic_modifier = { modifier = cat_herd } }
			137 = { add_dynamic_modifier = { modifier = cat_herd } }

			247 = { add_dynamic_modifier = { modifier = walrus_herd } }
			296 = { add_dynamic_modifier = { modifier = walrus_herd } }
			371 = { add_dynamic_modifier = { modifier = walrus_herd } }
			320 = { add_dynamic_modifier = { modifier = walrus_herd } }
			125 = { add_dynamic_modifier = { modifier = walrus_herd } }
			260 = { add_dynamic_modifier = { modifier = walrus_herd } }
			228 = { add_dynamic_modifier = { modifier = walrus_herd } }
			125 = { add_dynamic_modifier = { modifier = walrus_herd } }
			134 = { add_dynamic_modifier = { modifier = walrus_herd } }
			148 = { add_dynamic_modifier = { modifier = walrus_herd } }
			167 = { add_dynamic_modifier = { modifier = walrus_herd } }
			34 = { add_dynamic_modifier = { modifier = walrus_herd } }

			265 = { add_dynamic_modifier = { modifier = desert_herd } }
			132 = { add_dynamic_modifier = { modifier = desert_herd } }
			186 = { add_dynamic_modifier = { modifier = desert_herd } }
			348 = { add_dynamic_modifier = { modifier = desert_herd } }
			451 = { add_dynamic_modifier = { modifier = desert_herd } }

			399 = { add_dynamic_modifier = { modifier = elephant_herd } }
			358 = { add_dynamic_modifier = { modifier = elephant_herd } }
			312 = { add_dynamic_modifier = { modifier = elephant_herd } }
			314 = { add_dynamic_modifier = { modifier = elephant_herd } }
			444 = { add_dynamic_modifier = { modifier = elephant_herd } }

			323 = { add_dynamic_modifier = { modifier = dragon_moose_herd } }
			370 = { add_dynamic_modifier = { modifier = dragon_moose_herd } }
			411 = { add_dynamic_modifier = { modifier = dragon_moose_herd } }
			267 = { add_dynamic_modifier = { modifier = dragon_moose_herd } }
			326 = { add_dynamic_modifier = { modifier = dragon_moose_herd } }

			112 = { add_dynamic_modifier = { modifier = bison_herd } }
			118 = { add_dynamic_modifier = { modifier = bison_herd } }
			203 = { add_dynamic_modifier = { modifier = bison_herd } }
			134 = { add_dynamic_modifier = { modifier = bison_herd } }
			239 = { add_dynamic_modifier = { modifier = bison_herd } }
			22 = { add_dynamic_modifier = { modifier = bison_herd } }
			106 = { add_dynamic_modifier = { modifier = bison_herd } }
			316 = { add_dynamic_modifier = { modifier = bison_herd } }

			if = {
				limit = {
					has_start_date < 20.01.01
				}
				302 = { add_dynamic_modifier = { modifier = dragon_herd } }
				95 = { add_dynamic_modifier = { modifier = dragon_herd } }
				323 = { add_dynamic_modifier = { modifier = dragon_herd } }
				326 = { add_dynamic_modifier = { modifier = dragon_herd } }
				264 = { add_dynamic_modifier = { modifier = dragon_herd } }
				167 = { add_dynamic_modifier = { modifier = dragon_herd } }
				181 = { add_dynamic_modifier = { modifier = dragon_herd } }
				267 = { add_dynamic_modifier = { modifier = dragon_herd } }

			}

			if = {
				limit = {
					has_start_date > 20.01.01
				}
				every_state = {
					limit = {
						OR = {
							state = 167
							state = 232
							state = 181
							state = 200
							state = 175
							state = 222
							state = 148
							state = 123
							state = 112
							state = 208
							state = 118
							state = 111
							state = 100
							state = 82

							state = 242
							state = 319
							state = 274
							state = 297
							state = 137
							state = 203
							state = 134
							state = 236
							state = 329
							state = 239
							state = 296
							state = 125
							state = 356
							state = 357
							state = 258
							state = 285
							state = 228
							state = 260

							state = 320
							state = 371
							state = 373
							state = 247
							state = 447
							state = 188
							state = 22
							state = 106
							state = 24
						}
					}
					add_dynamic_modifier = { modifier = genocide_state }
				}
				if = {
					limit = {
						has_start_date < 110.01.01
					}
					316 = {add_dynamic_modifier = { modifier = genocide_state }}
					34 = {add_dynamic_modifier = { modifier = genocide_state }}
				}
			}
			
		}
	}


	# From is owner country
	on_army_leader_daily = {
		effect = {
			if = {
				limit = {
					check_variable = { random < 0.02 }
					NOT = { has_trait = sick }
					set_temp_variable = { temp = sum_unit_terrain_modifier@sickness_chance }
					divide_temp_variable = { temp = num_units }
					check_variable = { temp > 0.75 }
					NOT = { has_unit_leader_flag = recently_sick }
				}
				add_timed_unit_leader_trait = {
					trait = sick
					days = 30
				}
				unit_leader_event = { id = generic.17 }
			}
		}
	}

	# died
	on_army_leader_daily = {
		effect = {
			if = {
				limit = {
					check_variable = { random < 0.5 }
					check_variable = { random < 0.5 }
					check_variable = { random < 0.5 }
					check_variable = { random < 0.5 }
					check_variable = { random < 0.5 }
					check_variable = { random < 0.5 }
					check_variable = { random < 0.5 }
					check_variable = { random < 0.5 }
					check_variable = { random < 0.5 }
					check_variable = { random < 0.5 }
					check_variable = { random < 0.5 }
					check_variable = { random < 0.5 }
					check_variable = { random < 0.5 }
					check_variable = { random < 0.5 }
					has_trait = generic
				}
				remove_unit_leader = ROOT
				unit_leader_event = { id = generic.19 }
			}
		}
	}

	# retired
	on_army_leader_daily = {
		effect = {
			if = {
				limit = {
					check_variable = { random < 0.5 }
					check_variable = { random < 0.5 }
					check_variable = { random < 0.5 }
					check_variable = { random < 0.5 }
					check_variable = { random < 0.5 }
					check_variable = { random < 0.5 }
					check_variable = { random < 0.5 }
					check_variable = { random < 0.5 }
					check_variable = { random < 0.5 }
					check_variable = { random < 0.5 }
					check_variable = { random < 0.5 }
					check_variable = { random < 0.5 }
					check_variable = { random < 0.5 }
					has_trait = generic
				}
				remove_unit_leader = ROOT
				unit_leader_event = { id = generic.21 }
			}
		}
	}

	# Killed in battle
	on_army_leader_won_combat = {
		effect = {
			if = {
				limit = {
					set_temp_variable = { chance = 0.00001 }
					set_temp_variable = { factor = 1.0 }
					add_to_temp_variable = { factor = leader_modifier@wounded_chance_factor } 
					multiply_temp_variable = { chance = factor }
					check_variable = { random < chance }
					has_trait = generic
				}
				remove_unit_leader = ROOT
				unit_leader_event = { id = generic.20 }
			}
		}
	}
	on_army_leader_lost_combat = {
		effect = {
			if = {
				limit = {
					set_temp_variable = { chance = 0.0001 }
					set_temp_variable = { factor = 1.0 }
					add_to_temp_variable = { factor = leader_modifier@wounded_chance_factor } 
					multiply_temp_variable = { chance = factor }
					check_variable = { random < chance }
					has_trait = generic
				}
				remove_unit_leader = ROOT
				unit_leader_event = { id = generic.20 }
			}
		}
	}
	
	# From is owner country
	on_army_leader_won_combat = {
		effect = {
			if = {
				limit = {
					set_temp_variable = { chance = 0.001 }
					set_temp_variable = { factor = 1.0 }
					add_to_temp_variable = { factor = leader_modifier@wounded_chance_factor } 
					multiply_temp_variable = { chance = factor }
					check_variable = { random < chance }
					NOT = { has_trait = wounded }
				}
				add_timed_unit_leader_trait = {
					trait = wounded
					days = 90
				}
				unit_leader_event = { id = generic.18 }
			}
		}
	}
	
	# From is owner country
	on_army_leader_lost_combat = {
		effect = {
			if = {
				limit = {
					set_temp_variable = { chance = 0.005 }
					set_temp_variable = { factor = 1.0 }
					add_to_temp_variable = { factor = leader_modifier@wounded_chance_factor } 
					multiply_temp_variable = { chance = factor }
					check_variable = { random < chance }
					NOT = { has_trait = wounded }
				}
				add_timed_unit_leader_trait = {
					trait = wounded
					days = 90
				}
				unit_leader_event = { id = generic.18 }
			}
		}
	}
	
	on_army_leader_promoted = {
		effect = {
			add_timed_unit_leader_trait = {
				trait = recently_promoted
				days = 100
			}
		}
	}

}