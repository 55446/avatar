
add_namespace = calendar
add_namespace = nature
add_namespace = watertribe_barbarians

news_event = {
	id = calendar.1
	hidden = yes
	
	fire_only_once = no
	
	is_triggered_only = yes
	
	immediate = {
		swap_ideas = {
			remove_idea = full_moon
			add_idea = half_moon
		}
	}
	
	option = {
		name = calendar.1.a
	}
}

### spring begin
news_event = {
	id = calendar.2
	hidden = yes
	
	fire_only_once = no
	
	is_triggered_only = yes
	
	immediate = {
		set_variable = { global.season_frame_1 = 1 }
		set_variable = { global.season_frame_2 = 2 }
		set_variable = { global.season_frame_3 = 3 }
		set_variable = { global.season_frame_4 = 4 }

		every_state = {
			limit = {
				has_state_flag = northern_hemisphere
			}
			remove_dynamic_modifier = { modifier = winter_modifier }
			add_dynamic_modifier = { modifier = spring_modifier }
		}
		every_state = {
			limit = {
				has_state_flag = southern_hemisphere
			}
			remove_dynamic_modifier = { modifier = summer_modifier }
			add_dynamic_modifier = { modifier = fall_modifier }
		}
	}
	
	option = {
		name = calendar.2.a
	}
}

### summer begin
news_event = {
	id = calendar.3
	hidden = yes
	
	fire_only_once = no
	
	is_triggered_only = yes
	
	immediate = {
		set_variable = { global.season_frame_1 = 2 }
		set_variable = { global.season_frame_2 = 3 }
		set_variable = { global.season_frame_3 = 4 }
		set_variable = { global.season_frame_4 = 1 }

		every_state = {
			limit = {
				has_state_flag = northern_hemisphere
			}
			remove_dynamic_modifier = { modifier = spring_modifier }
			add_dynamic_modifier = { modifier = summer_modifier }
		}
		every_state = {
			limit = {
				has_state_flag = southern_hemisphere
			}
			remove_dynamic_modifier = { modifier = fall_modifier }
			add_dynamic_modifier = { modifier = winter_modifier }
		}
	}
	
	option = {
		name = calendar.3.a
	}
}

### fall begin
news_event = {
	id = calendar.4
	hidden = yes
	
	fire_only_once = no
	
	is_triggered_only = yes
	
	immediate = {
		set_variable = { global.season_frame_1 = 3 }
		set_variable = { global.season_frame_2 = 4 }
		set_variable = { global.season_frame_3 = 1 }
		set_variable = { global.season_frame_4 = 2 }

		every_state = {
			limit = {
				has_state_flag = northern_hemisphere
			}
			remove_dynamic_modifier = { modifier = summer_modifier }
			add_dynamic_modifier = { modifier = fall_modifier }
		}
		every_state = {
			limit = {
				has_state_flag = southern_hemisphere
			}
			remove_dynamic_modifier = { modifier = winter_modifier }
			add_dynamic_modifier = { modifier = spring_modifier }
		}
	}
	
	option = {
		name = calendar.4.a
	}
}

### winter begin
news_event = {
	id = calendar.5
	hidden = yes
	
	fire_only_once = no
	
	is_triggered_only = yes
	
	immediate = {
		set_variable = { global.season_frame_1 = 4 }
		set_variable = { global.season_frame_2 = 1 }
		set_variable = { global.season_frame_3 = 2 }
		set_variable = { global.season_frame_4 = 3 }

		every_state = {
			limit = {
				has_state_flag = northern_hemisphere
			}
			remove_dynamic_modifier = { modifier = fall_modifier }
			add_dynamic_modifier = { modifier = winter_modifier }
		}
		every_state = {
			limit = {
				has_state_flag = southern_hemisphere
			}
			remove_dynamic_modifier = { modifier = spring_modifier }
			add_dynamic_modifier = { modifier = summer_modifier }
		}
	}
	
	option = {
		name = calendar.5.a
	}
}



#Volcano erruption
country_event = {
	id = nature.1
	title = nature.1.t
	desc = nature.1.d
	picture = GFX_report_event_volcano

	is_triggered_only = yes

	immediate = { 
		
	}

	option = {
		name = nature.1.a

		every_state = {
			limit = {
				has_state_flag = volcano_eruption
			}
			damage_building = {
				type = infrastructure
				damage = 4
			}
			add_to_variable = {
				var = stonefield
				value = 4
			}
			custom_effect_tooltip = add_stonefield_4
			clr_state_flag = volcano_eruption
		}
		every_state = {
			limit = {
				has_state_flag = volcano_eruption_2
			}
			damage_building = {
				type = infrastructure
				damage = 3
			}
			add_to_variable = {
				var = stonefield
				value = 6
			}
			custom_effect_tooltip = add_stonefield_6
			clr_state_flag = volcano_eruption_2
		}
		every_state = {
			limit = {
				has_state_flag = volcano_eruption_3
			}
			damage_building = {
				type = infrastructure
				damage = 2
			}
			add_to_variable = {
				var = stonefield
				value = 4
			}
			custom_effect_tooltip = add_stonefield_4
			clr_state_flag = volcano_eruption_3
		}
	}
}

	country_event = {
	id = watertribe_barbarians.1
	title = watertribe_barbarians.1.t
	desc = watertribe_barbarians.1.d
	picture = GFX_report_event_water_birth

	is_triggered_only = yes

	immediate = { 
		
	}

	option = {
		name = watertribe_barbarians.1.a
		every_state = {
			limit = {
				has_state_flag = watertribe_barbarians_flag
			}
			damage_building = {
				type = infrastructure
				damage = 1
			}
			clr_state_flag = watertribe_barbarians_flag
		}
	}
}

